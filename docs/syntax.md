# Metapipe Syntax

The syntax for .mp files is as follows.

# Sample config.mp file

``` 
# Lines beginning with # signs are comments.
# Analyzes Sassafrass files.
# <author>
# TODO: Add Notes.

# These are *magic comments.*
#{CLEANUP}
#{STOP_ON_ERR}
#{NO_RETRY}

COMMANDS:
# Cut all the files listed in the files list and save them to another file.
1. cut -f 1 {||} > {o}

# For each of those files, run a given Python script (each file is
independent).
2. python {1.*||} > {o}

# Once all those files are done, run the analysis on them.
3. htseq -fgt -o {o} {2.*,}

# To get the results, run another script for each .counts file generated by #2.
4. ./analyze_counts -o {o} -i {3.*.counts||}

# For files 1,3,4,5,6,9 run the last step.
5. cat {4.1,4.3-6,4.9} | grep 'sassafrass' | python analyze_sassafrass.py -o {o.finalized}

# You can even reuse files from other steps.
6. cat {4.1,3.2||3.4,5.6||1.1,1} >> somefile

FILES:
SAMPLE_1.csv
SAMPLE_2.csv
SAMPLE_3.csv
SAMPLE_4.csv
SAMPLE_5.csv
SAMPLE_6.csv
SAMPLE_7.csv
SAMPLE_8.csv

MODULES:
python: python_path
htseq: htseq_path
```
